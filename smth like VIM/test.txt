     
     #include <stdio.h>
     #include <math.h>
     #include <string.h>
     #define SIZE 24
     
     int printboard(int board[24][24], int n) {
                  for (int i = 0; i < n; i++) {
                               for (int j = 0; j < n; j++) {
                                            printf("%d ", board[i][j]);
                               }
                               printf("\n");
                  }
                  return 0;
     }
     
     int put(int x, int y, int board[24][24]) {  // 1 if we can put
                  int movesX[] = {0, 2, 1, -1, -2, -2, -1, 1, 2};
                  int movesY[] = {0, 1, 2, 2, 1, -1, -2, -2, -1};
                  int flag = 0;
                  for (int i = 0; i < 9; i++) {
                               for (int j = 0; j < 9; j++) {
                                            // returns 0 if smth under this coords
                                            if (board[x + movesX[i]][y + movesY[i]] == 1) return 0; 
                               }
                  }
                  return 1;
     }
     
     // num - already placed
     int solution(int n, int l, int k, int x0, int y0, int num, int board[24][24], int* ukvar, FILE* output) { 
                  if (num == l) { // if enough, then stop
                               for (int x = 0; x < n; x++) {
                                            for (int y = 0; y < n; y++) {
                                                         if (board[x][y] == 1) fprintf(output, "(%d, %d)", x, y);
                                            }
                               }
                               fprintf(output, "\n");
                               (*ukvar)++;
                               return 0;
                  }
     
                  for (int x = x0; x < n; x++) {    // run through the table
                               for (int y = y0; y < n; y++) {
                                            if (put(x, y, board)) {  
                                                         board[x][y] = 1; 
                                                         if (y == n - 1) solution(n, l, k, x + 1, 0, num + 1, board, ukvar, output); 
                                                         else solution(n, l, k, x, y, num + 1, board, ukvar, output); 
                                                         board[x][y] = 0; 
                                            }
                               }
                               y0 = 0; 
                  }
                  return 0;
     }
     
     
     int main() {
                  int n, l, k;
                  int board[24][24];
                  FILE* input = fopen("D:/Games/souex.txt", "r");
                  FILE* output = fopen("D:/Games/senior_x2.txt", "w");
                  fscanf(input, "%d", &n); // size
                  fscanf(input, "%d", &l); // how much to place
                  fscanf(input, "%d", &k); // num of already placed
                  for (int i = 0; i < n; i++) for (int j = 0; j < n; j++) board[i][j] = 0; // fill by 0
                  for (int i = 0; i < k; i++) {
                               int x, y;
                               fscanf(input, "%d", &x); //
                               fscanf(input, "%d", &y); // 
                               board[x][y] = 1; // here the phigure stays
                  }
                  //printboard(board, n);
                  //int x, y;
                  //printf("x and y");
                  //scanf("%d %d", &x, &y);
                  //printf("%d", put(x, y, board));
                  int var = 0; // if 0 - no solutions
                  int* ukvar = &var; // pointer to count
                  solution(n, l, k, 0, 0, 0, board, ukvar, output);
                  if (var == 0) fprintf(output, "no solutions");
     
                  
     }
